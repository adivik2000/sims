<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html >
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="robots" content="noarchive,noindex>" />
<base target="_top">
<title>Setting up a District</title>
</head>
<body>
  <div id="doc-contents">
    <h1> Getting Started </h1>
    <p>
    It is easiest to setup users with access to all students in the district.   You may wish to start with a small group of users, schools, and students using this level of access control. </p>

    <p>After that, you can assign users to all students in a particular school.</p>

    <p> After that, you can designate a school admin and have them setup groups and assign users and students to those groups.  (See the school admin module for more information.)
    </p>


    <ol>
      <img src="district_admin/dist_admin_main.png">
      <li>
       DPI instructs the state admin setup your district. State admin will provide District Administrator with a user and password for the district admin and your URL.

       </li>
       
      <img src="district_admin/edit_district.png">
      <li>
 Edit the logo, district hash key (if it will be used), and abbreviation
 Login with your district_admin user and password, go to edit your district and make the appropriate changes.

The following steps can be done manually or using data generated by the district. For unattended automated jobs (such as scheduled batch processes, the district should create a user with username of district_upload.

 </li>
      <img src="district_admin/schools_list.png">
      <img src="district_admin/edit_school.png">
      <li>
 Add schools for your district. 
 To do this manually select Add/Remove Schools from the menu at the left. You may have the schools already entered for you, if not, add each one using the New School link and fill out the forms. If you are going do do any batch uploads, assign the id_districts for each school. (This is usually the primary key in your Student Information System.)

 For scripted installation populate the schools.csv file.

 </li>
      <img src="district_admin/user_list.png">
      <img src="district_admin/edit_user.png">
      <li>
 Add users
 To do this manually select Add/Remove Users from the menu at the left. This is also where you can change passwords.  Add each one using the New User link and fill out the forms. If you are going do do any batch uploads, assign the id_districts for each user. (This is usually the primary key in your Student Information System.) You can also assign users to schools, assign roles, and assign special groups (everyone in district, everyone in a school.)  School admins are also assigned here. Most features of SIMS require the "regular_user" role.
 For scripted installation populate the users.csv file. 

 </li>
      <li>
 Designate school admins
 See #4 Make sure they have the school_admin role and are selected as an admin in the school assignment.

 </li>
      <li>
 Designate content admins
 Give users the content_admin role.

 For scripted installation populate content_admins.csv with the primary keys of the users who should have this role.

 </li>
      <img src="district_admin/student_list.png">
      <img src="district_admin/edit_student.png">
      <li>
 Add students
 To do this manually select Add/Remove Students from the menu at the left. You can assign enrollments, system flags, and the extended profile here as well.

 For scripted installation populate the students.csv
 
 </li>
      <li>
 Add enrollments
 This is done on the add/edit student screen. Add an enrollment and choose the school and grade.

 For scripted installation populate the enrollments.csv

 </li>
      <li>
 Add user school assignments
 This is similar to #5. For a user to access a school, they need all_students_in_district access, all_schools or an assignment to a school.
 
 For scripted installation populate the user_school_assignments.csv, all_schools.csv, all_students_in_district.csv If you wish to designate users that are assigned to a particular school, you can also populate the staff_assignments.csv If this is present, then certain dropdowns (like intervention participants) will be limited to staff assigned to the school instead of everyone that has access to that school (useful in larger districts.)

 </li>
 <p>Steps 10-12 are performed by the school administrator.  See the school admin documentation for more information.  You may be interested in the csv files referenced here. </p>
      <li>
 Add groups (School Admin)
 After selecting a school you access this via the Manage Groups link.
 Groups are basically sections, but could also be neighborhoods or any collections of students. Make sure they get assigned an id_district if you're going to do batch uploads. 
 
 For scripted installation populate the groups.csv

 </li>
      <li>
 Add student group assignments (School Admin)
 This is done via the user_and_student assignment link for each group.

 For scripted installation populate the student_groups.csv

 </li>
      <li>
 Add user group assignments
  This is done via the user_and_student assignment link for each group. Principals are designated here. You can designate a principal for the entire school, a specific grade, or a smaller group.
  For scripted installation populate the user_groups.csv, and all_students_in_school.csv

 </li>
      <li>
 Add system flags (and add flag descriptions.)
 When editing or creating a student you can add flags there.  You will need to determine how and why you wish to flag students and then generate a list of students and their reason for being flagged.  

The flag descriptions menu allows you to enter content that will appear in the legend.

 For scripted installation populate the system_flags.csv
 </li>
 

      <li>
 Create extended profiles
 When editing a student you can create an html snippet (basically content within a div tag) and upload it. 

 For scripted installation populate the ext_arbitraries.csv, ext_siblings.csv, ext_summaries.csv, and ext_test_scores.csv

 </li>
 </ol>
 <h1>This will get moved to another page</h1>
<h3>Semiautomated and Unattended batch updates
</h3>

First generate the appropriate CSV files for each section. We will provide some documentation about how to do this for some of the more popular Student Information Systems. The file names must match the ones in the list and the headers (and contents) must also match. It is recommended that you zip the files together before doing the upload.

The process for generating the CSV's will be the same for either option chosen. Note that each file represents all the data for your district. So if you try to upload half your students in one file, then upload the rest in another file, the second file will overwrite the data in the first. 

id_district is the primary key in your student information system. You may have to assign your own numbers, just make sure they are unique, persistent, and consistent.


For semiautomated upload, log in as a district admin and click on import_csv in the menu at the left. You can then upload your file.

For unattended uploads, setup a scheduled job (for example using cron) to generate the CSV files, zip them, and then finish with the following command:

curl --user district_upload:your_password https://district_abbrev.simspilot.org/scripted/district_upload -Fupload_file =@yourzip.zip -k

Replace the district_abbrev with what you saw in step 2, and the password with the password you assigned to the district_upload user. A confirmation email will be sent to the email address assigned to district_upload

curl is a tool for interacting with web pages from the command line, feel free to use another tool if you like (as long as it can do https.)


<h3>Unattended Export

</h3>This is similar to the unattended batch updates above. Setup a user called district_export

curl -o sims_export.zip --user district_export:your_password https://district_abbrev.simspilot.org/scripted/district_export -k

The sims_export.zip will contain several csv files that you could import into excel, or into a database.

<h3>Functions of School Adminstratior</h3>

Manually creates and assigns groups
Manages school teams
Manages quicklist for school


<h3>Functions of District Administrator</h3>
User management (resets passwords, initial creation, etc.)
Steps 3-14 above
Generates CSV files for district using SQL or other tool available in the Student Information System (or delegates this.)
Creates Flag Descriptions



<h3>Functions of Content Administrator</h3>
Creates/edits Checklists, Progress Monitors, Intervention Definitions, Tiers, District quicklist, core practice documents

  <br clear="all"/>
</div>
</body>
</html>
